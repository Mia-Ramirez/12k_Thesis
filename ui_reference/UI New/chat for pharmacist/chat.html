<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHARMANEST ESSENTIAL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	<link rel="stylesheet" href="addToCart.css">
    <link rel="stylesheet" href="chat.css">
    <link rel="stylesheet" href="nav.css">

</head>
<body style="background: linear-gradient(to bottom right, lightsalmon, white);
    background-repeat: no-repeat;
    background-attachment: fixed;">
	<div class="sidenav">
        <img id="logo" src="logo.png" alt="Logo">
            <h2 style="text-align: center;"> Pharmanest Essential </h2>
    
            <div class="menu">
                <i class="fas fa-dashboard"></i>
                <a href="adminpage.php">Dashboard</a>
            </div>
            <div class="menu">
                <i class="fas fa-shopping-bag"></i>
                <a href="shop.php">Shop</a>
            </div>
            <div class="menu">
                <i class="fas fa-user"></i>
                <a href="customerpage.php">Customer</a>
            </div>
            <div class="menu">
                <i class="fas fa-cart-shopping"></i>
                <a href="order.php">Order</a>
            </div>
            <div class="menu">
                <i class="fas fa-cash-register"></i>
                <a href="pos.php">Point of Sale</a>
            </div>
            <div class="menu">
                <i class="fas fa-warehouse"></i>
                <a href="inventory.php">Inventory</a>
            </div>
            <div class="menu">
                <i class="fas fa-chart-line"></i>
                <a href="salesReport.php">Sales Report</a>
            </div>
            <div class="menu">
                <i class="fas fa-users"></i>
                <a href="employee.php">Employee</a>
            </div>
    </div>
                
        <div class="topnav">
            <a href="logout.php">Logout(Logged in as Admin)</a>
        </div>
    
        <center>
        <div class="head">
        <h2> ADMIN DASHBOARD </h2>
        <h4>Welcome, Admin!</h4>
        </div>
        </center>
<div class="holder">

   <div class="chat-container">
    <center><h1>Chatting System</h1></center>

    <div class="chat-box" id="chat-box">
        <!-- Chat messages will appear here -->
    </div>

    <div class="form-group">
        <label for="message">Enter your message:</label>
        <textarea id="message" rows="3" placeholder="Type your message..."></textarea>
    </div>

    <div class="form-group">
        <label for="send-option">Send to:</label>
        <select id="send-option" onchange="toggleContactField()">
            <option value="chat">Chat</option>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
        </select>
    </div>

    <div class="form-group" id="contact-field" style="display: none;">
        <label for="contact">Enter email or phone number:</label>
        <input type="text" id="contact" placeholder="Enter recipient's contact">
    </div>

    <button onclick="sendMessage()">Send</button>
</div>
</div>
<div class="inbox">
    <div class="inbox-container">
        <center><h1>Inbox</h1></center>
        <ul class="message-list" id="message-list">
            <!-- Messages will be populated here dynamically -->
        </ul>
        <div class="no-messages" id="no-messages" style="display: none;">
            No messages available.
        </div>
        <button onclick="loadMessages()">Load Messages</button>
    </div>

    <script>
        const messages = [
            { sender: "John Doe", content: "Hey! How are you?" },
            { sender: "Jane Smith", content: "Don't forget about the meeting tomorrow." },
            { sender: "Mark Johnson", content: "Can you review this document?" }
        ];

        function loadMessages() {
            const messageList = document.getElementById('message-list');
            const noMessages = document.getElementById('no-messages');

            // Clear existing messages
            messageList.innerHTML = '';

            if (messages.length === 0) {
                noMessages.style.display = 'block';
            } else {
                noMessages.style.display = 'none';
                messages.forEach(msg => {
                    const li = document.createElement('li');
                    li.className = 'message-item';
                    li.innerHTML = `<span>From: ${msg.sender}</span><p>${msg.content}</p>`;
                    messageList.appendChild(li);
                });
            }
        }

        // Automatically load messages on page load
        window.onload = loadMessages;
    </script>
</div>

<script>
    const chatBox = document.getElementById('chat-box');

    function toggleContactField() {
        const sendOption = document.getElementById('send-option').value;
        const contactField = document.getElementById('contact-field');

        if (sendOption === 'email' || sendOption === 'phone') {
            contactField.style.display = 'block';
        } else {
            contactField.style.display = 'none';
        }
    }

    function sendMessage() {
        const message = document.getElementById('message').value;
        const sendOption = document.getElementById('send-option').value;
        const contact = document.getElementById('contact').value;

        if (!message.trim()) {
            alert('Please enter a message.');
            return;
        }

        if ((sendOption === 'email' || sendOption === 'phone') && !contact.trim()) {
            alert('Please provide a valid contact.');
            return;
        }

        if (sendOption === 'chat') {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message';
            messageDiv.innerHTML = `<span>You:</span> ${message}`;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        } else {
            alert(`Message sent to ${sendOption === 'email' ? 'Email' : 'Phone'}: ${contact}`);
        }

        document.getElementById('message').value = '';
        if (sendOption !== 'chat') {
            document.getElementById('contact').value = '';
        }
    }
</script>

    <script>
        const gearMenu = document.getElementById("gearMenu");

        // Toggle dropdown visibility
        gearMenu.addEventListener("click", () => {
            gearMenu.classList.toggle("active");
        });

        // Close dropdown when clicking outside
        window.addEventListener("click", (event) => {
            if (!gearMenu.contains(event.target)) {
                gearMenu.classList.remove("active");
            }
        });
    </script>


</body>
</html>